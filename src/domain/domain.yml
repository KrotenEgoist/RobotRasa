version: "3.1"

intents:
  - command_move_subject
  - nlu_fallback:
      use_entities: []
  - wrong_command:
      use_entities: []

entities:
  - action
  - subject:
      roles:
        - object
        - direction
        - addition
  - distance
  - relation

slots:
  action:
    type: text
    mappings:
      - type: from_entity
        entity: action

  subject:
    type: text
    mappings:
      - type: from_entity
        entity: subject
        role: object
      - type: from_entity
        entity: subject
        role: direction

  feature:
    type: list
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: distance
      - type: from_entity
        entity: relation
      - type: from_entity
        entity: subject
        role: addition

forms:
  subject_form:
    required_slots:
      - subject
  feature_form:
    required_slots:
      - feature

responses:
  utter_send_command:
    - text: "Команда отправлена: {action} {subject} {feature}"
  utter_wrong_command:
    - text: "Исправляем команду"
  utter_rephrase:
    - text: "Перефразируйте"

actions:
  - action_ask_feature
  - action_ask_subject
  - action_reset_slots


session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
